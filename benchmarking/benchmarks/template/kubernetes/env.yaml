apiVersion: batch/v1
kind: Job
metadata:
  name: benchmark-job
spec:
  template:
    spec:
      containers:
        - name: benchmark-job
          env:
            # Vector DB configuration (Weaviate)
            # TODO: Update with your Weaviate service name
            - name: WEAVIATE_HOST
              value: "dev-weaviate.sage.svc.cluster.local"
            - name: WEAVIATE_PORT
              value: "8080"
            - name: WEAVIATE_GRPC_PORT
              value: "50051"
            # Inference server configuration (Triton)
            # TODO: Update with your Triton service name
            - name: TRITON_HOST
              value: "dev-triton.sage.svc.cluster.local"
            - name: TRITON_PORT
              value: "8001"
            # Benchmark-specific configuration
            # TODO: Replace MYBENCHMARK with your benchmark name and update values
            - name: MYBENCHMARK_DATASET
              value: "your-dataset/name"
            - name: IMAGE_RESULTS_FILE
              value: "image_search_results.csv"
            - name: QUERY_EVAL_METRICS_FILE
              value: "query_eval_metrics.csv"
            - name: COLLECTION_NAME
              value: "MYBENCHMARK"
            - name: QUERY_METHOD
              value: "clip_hybrid_query"
            - name: QUERY_BATCH_SIZE
              value: "100"
            - name: IMAGE_BATCH_SIZE
              value: "100"
            - name: SAMPLE_SIZE
              value: "0"
            - name: WORKERS
              value: "5"
            # S3 upload configuration (override base defaults for this benchmark)
            # TODO: Update S3_PREFIX with your benchmark-specific path
            - name: S3_PREFIX
              value: "dev-metrics/MYBENCHMARK"
