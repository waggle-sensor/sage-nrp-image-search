apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: sage

# TODO: Replace MYBENCHMARK with your benchmark name (lowercase)
namePrefix: prod-MYBENCHMARK-
commonLabels:
  benchmark: MYBENCHMARK

# This overlay references the base and applies MYBENCHMARK-specific patches
# configured for the prod environment (prod-weaviate, prod-triton, etc.)
resources:
  - ../../base

patches:
  # Patch job environment variables (MYBENCHMARK-specific + prod services)
  - path: env.yaml
    target:
      kind: Job
      labelSelector: "app=benchmark-job"

images:
  # TODO: Replace MYBENCHMARK with your benchmark name and update registry if needed
  - name: PLACEHOLDER_BENCHMARK_JOB_IMAGE
    newName: gitlab-registry.nrp-nautilus.io/ndp/sage/nrp-image-search/benchmark-MYBENCHMARK-job
    newTag: latest
